
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [20 21 1, 20 21 2, 20 21 3, 20 21 4, 20 21 5, 21 22 6, 21 22 7, 21 22 8, 21 22 9, 21 22 10, 22 23 11, 22 23 12, 22 23 13, 22 23 14, 22 23 15, 23 24 16, 23 24 17, 23 24 18, 23 24 19, 23 24 20, 24 25 21, 24 25 22, 24 25 23, 24 25 24, 24 25 25, 25 26 26, 25 26 27, 25 26 28, 25 26 29, 25 26 30, 26 27 31, 26 27 32, 26 27 33, 26 27 34, 26 27 35, 27 28 36, 27 28 37, 27 28 38, 27 28 39, 27 28 40, 28 29 41, 28 29 42, 28 29 43, 28 29 44, 28 29 45, 29 30 46, 29 30 47, 29 30 48, 29 30 49, 29 30 50, 30 31 51, 30 31 52, 30 31 53, 30 31 54, 30 31 55, 31 32 56, 31 32 57, 31 32 58, 31 32 59, 31 32 60, 32 33 61, 32 33 62, 32 33 63, 32 33 64, 32 33 65, 33 34 66, 33 34 67, 33 34 68, 33 34 69, 33 34 70, 34 35 71, 34 35 72, 34 35 73, 34 35 74, 34 35 75, 35 36 76, 35 36 77, 35 36 78, 35 36 79, 35 36 80, 36 37 81, 36 37 82, 36 37 83, 36 37 84, 36 37 85, 37 38 86, 37 38 87, 37 38 88, 37 38 89, 37 38 90, 38 39 91, 38 39 92, 38 39 93, 38 39 94, 38 39 95, 39 40 96, 39 40 97, 39 40 98, 39 40 99, 39 40 100]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install
      run: |
        cd wkwk
        python -m pip install --upgrade pip wheel setuptools
        pip install -r requirements.txt
        sudo apt install -y ffmpeg
        sudo apt install -y google-chrome-stable
        seleniumbase install chromedriver
        sudo apt install -y xvfb
        export DISPLAY=:0
        /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
        sleep 5
        xvfb-run python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
