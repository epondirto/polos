
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [3260 3265 1, 3260 3265 2, 3260 3265 3, 3260 3265 4, 3260 3265 5, 3260 3265 6, 3260 3265 7, 3260 3265 8, 3260 3265 9, 3260 3265 10, 3260 3265 11, 3260 3265 12, 3260 3265 13, 3260 3265 14, 3260 3265 15, 3260 3265 16, 3260 3265 17, 3260 3265 18, 3260 3265 19, 3260 3265 20, 3265 3270 21, 3265 3270 22, 3265 3270 23, 3265 3270 24, 3265 3270 25, 3265 3270 26, 3265 3270 27, 3265 3270 28, 3265 3270 29, 3265 3270 30, 3265 3270 31, 3265 3270 32, 3265 3270 33, 3265 3270 34, 3265 3270 35, 3265 3270 36, 3265 3270 37, 3265 3270 38, 3265 3270 39, 3265 3270 40, 3270 3275 41, 3270 3275 42, 3270 3275 43, 3270 3275 44, 3270 3275 45, 3270 3275 46, 3270 3275 47, 3270 3275 48, 3270 3275 49, 3270 3275 50, 3270 3275 51, 3270 3275 52, 3270 3275 53, 3270 3275 54, 3270 3275 55, 3270 3275 56, 3270 3275 57, 3270 3275 58, 3270 3275 59, 3270 3275 60, 3275 3280 61, 3275 3280 62, 3275 3280 63, 3275 3280 64, 3275 3280 65, 3275 3280 66, 3275 3280 67, 3275 3280 68, 3275 3280 69, 3275 3280 70, 3275 3280 71, 3275 3280 72, 3275 3280 73, 3275 3280 74, 3275 3280 75, 3275 3280 76, 3275 3280 77, 3275 3280 78, 3275 3280 79, 3275 3280 80]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install
      run: |
        cd wkwk
        python -m pip install --upgrade pip wheel setuptools
        pip install -r requirements.txt
        sudo apt install -y ffmpeg
        sudo apt install -y google-chrome-stable
        seleniumbase install chromedriver
        sudo apt install -y xvfb
        export DISPLAY=:0
        /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
        sleep 5
        xvfb-run python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
