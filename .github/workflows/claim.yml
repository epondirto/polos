
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [80 85 1, 80 85 2, 80 85 3, 80 85 4, 80 85 5, 80 85 6, 80 85 7, 80 85 8, 80 85 9, 80 85 10, 80 85 11, 80 85 12, 80 85 13, 80 85 14, 80 85 15, 80 85 16, 80 85 17, 80 85 18, 80 85 19, 80 85 20, 85 90 21, 85 90 22, 85 90 23, 85 90 24, 85 90 25, 85 90 26, 85 90 27, 85 90 28, 85 90 29, 85 90 30, 85 90 31, 85 90 32, 85 90 33, 85 90 34, 85 90 35, 85 90 36, 85 90 37, 85 90 38, 85 90 39, 85 90 40, 90 95 41, 90 95 42, 90 95 43, 90 95 44, 90 95 45, 90 95 46, 90 95 47, 90 95 48, 90 95 49, 90 95 50, 90 95 51, 90 95 52, 90 95 53, 90 95 54, 90 95 55, 90 95 56, 90 95 57, 90 95 58, 90 95 59, 90 95 60, 95 100 61, 95 100 62, 95 100 63, 95 100 64, 95 100 65, 95 100 66, 95 100 67, 95 100 68, 95 100 69, 95 100 70, 95 100 71, 95 100 72, 95 100 73, 95 100 74, 95 100 75, 95 100 76, 95 100 77, 95 100 78, 95 100 79, 95 100 80]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install
      run: |
        cd wkwk
        python -m pip install --upgrade pip wheel setuptools
        pip install -r requirements.txt
        sudo apt install -y ffmpeg
        sudo apt install -y google-chrome-stable
        seleniumbase install chromedriver
        sudo apt install -y xvfb
        export DISPLAY=:0
        /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
        sleep 5
        xvfb-run python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
