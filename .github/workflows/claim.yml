
name: Claim

on:
  push:
    branches: ["main"]

jobs:
  build:
    env:
      PY_COLORS: "1"
    name: Install Dependencies
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 20
      fail-fast: false
      matrix:
        rangeIndex: [3240 3245 1, 3240 3245 2, 3240 3245 3, 3240 3245 4, 3240 3245 5, 3240 3245 6, 3240 3245 7, 3240 3245 8, 3240 3245 9, 3240 3245 10, 3240 3245 11, 3240 3245 12, 3240 3245 13, 3240 3245 14, 3240 3245 15, 3240 3245 16, 3240 3245 17, 3240 3245 18, 3240 3245 19, 3240 3245 20, 3245 3250 21, 3245 3250 22, 3245 3250 23, 3245 3250 24, 3245 3250 25, 3245 3250 26, 3245 3250 27, 3245 3250 28, 3245 3250 29, 3245 3250 30, 3245 3250 31, 3245 3250 32, 3245 3250 33, 3245 3250 34, 3245 3250 35, 3245 3250 36, 3245 3250 37, 3245 3250 38, 3245 3250 39, 3245 3250 40, 3250 3255 41, 3250 3255 42, 3250 3255 43, 3250 3255 44, 3250 3255 45, 3250 3255 46, 3250 3255 47, 3250 3255 48, 3250 3255 49, 3250 3255 50, 3250 3255 51, 3250 3255 52, 3250 3255 53, 3250 3255 54, 3250 3255 55, 3250 3255 56, 3250 3255 57, 3250 3255 58, 3250 3255 59, 3250 3255 60, 3255 3260 61, 3255 3260 62, 3255 3260 63, 3255 3260 64, 3255 3260 65, 3255 3260 66, 3255 3260 67, 3255 3260 68, 3255 3260 69, 3255 3260 70, 3255 3260 71, 3255 3260 72, 3255 3260 73, 3255 3260 74, 3255 3260 75, 3255 3260 76, 3255 3260 77, 3255 3260 78, 3255 3260 79, 3255 3260 80]
    steps:
    - uses: actions/checkout@v4
    - name: Install Dependencies
      uses: actions/setup-node@v4
      with:
        node-version: 18
    - name: Setup Code
      run: |
        node index.js
        npm i
        node asis.js ${{secrets.WK_U}} ${{secrets.WK_I}} ${{secrets.WK_S}} ${{secrets.BK_U}}
        ls -la
    - name: Set up Python 3.12
      uses: actions/setup-python@v5
      with:
        python-version: 3.12
    - name: Install
      run: |
        cd wkwk
        python -m pip install --upgrade pip wheel setuptools
        pip install -r requirements.txt
        sudo apt install -y ffmpeg
        sudo apt install -y google-chrome-stable
        seleniumbase install chromedriver
        sudo apt install -y xvfb
        export DISPLAY=:0
        /usr/bin/Xvfb :0 -screen 0 1024x768x24 &
        sleep 5
        xvfb-run python run.py ${{ matrix.rangeIndex }}
    - name: done
      run: exit
